# <a name="1.1.2"></a>1.1.2

Release date: 1st Sep, 2014

<div class="aui-message info">
    <span class="aui-icon icon-info"></span>
    XML add-ons will be <em>removed</em> from this version onwards.
</div>

## Overview

* Confluence now supports `content.*` variables everywhere that `page.*` variables were supported.
* Support for [JIRA reports](../modules/jira/report.html)
* Dialogs and inline dialogs will no longer suffer from expired JWTs.
* Add-ons will no longer change from disabled to enabled as a result of automatic updates.

## Issues Resolved

The following issues have been resolved since `1.1.0-rc.4`.

<table class="aui issue-table">
    <thead>
        <tr>
            <th></th>
            <th class="key">Key</th>
            <th>Summary</th>
          </tr>
    </thead>
    <tbody>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Story</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/ACJIRA-21">ACJIRA-21</a></td>
            <td>Support for report module in Connect</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Improvement</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1218">AC-1218</a></td>
            <td>Deprecate page.* context params in favour of their content.* counterparts</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1078">AC-1078</a></td>
            <td>JWT dialog and inline dialg tokens can expire before they are invoked</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1293">AC-1293</a></td>
            <td>Add-on re-installation and autoupgrade doesn't preserve enablement state</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1259">AC-1259</a></td>
            <td>Duplicated add-on web panel content</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Improvement</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1253">AC-1253</a></td>
            <td>AP.request does not support the 'cache' argument.</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-1261">AC-1261</a></td>
            <td>Clicking on WebItem does not  send HTTP GET to Addon</td>
        </tr>
    </tbody>
</table>


# <a name="rc4"></a>1.1.0-rc.4

Release date: 5th Aug, 2014

<div class="aui-message info">
    <span class="aui-icon icon-info"></span>
    XML add-ons will be <em>removed</em> from the Atlassian Connect distribution with the release
    of Connect 1.1.0 final.
</div>

## Overview

* Bug fixes and stability improvements

## Issues Resolved

The following issues have been resolved since `1.1.0-rc.3`.

<table class="aui issue-table">
  <thead>
      <tr>
          <th></th>
          <th class='key'>Key</th>
          <th>Summary</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1199">AC-1199</a></td>
          <td>Not able to get rid of the chrome around the dialog from a web-item</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1256">AC-1256</a></td>
          <td>Multiple instances of the same workflow post function do not render nicely</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1248">AC-1248</a></td>
          <td>Avoid AC to call AJS.Confluence.EditorLoader.load() in every page load</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1236">AC-1236</a></td>
          <td>Macro Editor loads blank when no width and height are specified</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1018">AC-1018</a></td>
          <td>Space context parameter isn&#x27;t being populated in remote condition</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1271">AC-1271</a></td>
          <td>AP.cookie doesn&#x27;t appear to work</td>
      </tr>
  </tbody>
</table>


# <a name="rc3"></a>1.1.0-rc.3

Release date: 23rd July, 2014

<div class="aui-message info">
    <span class="aui-icon icon-info"></span>
    XML add-ons will be <em>removed</em> from the Atlassian Connect distribution with the release
    of Connect 1.1.0 final.
</div>

## Overview

* Support for Confluence Mobile has been temporarily disabled
* JavaScript API: removed deprecated function `AP.fireEvent()`
* New feature: condition for checking dark features
* Fixed: web-sections which rely on add-on-provided web-items fail to register
* Valid module keys are no longer modified
* Introduced Confluence Questions `content.id` / `content.version` / `content.type` / `content.plugin` [context parameters](../concepts/context-parameters.html) for webitems and webpanels
* Docs: Fix broken links to webhooks module page
* Docs: web panels are not to be used for dialog content

## Issues Resolved

The following issues have been resolved since `1.1.0-rc.2`.

<table class="aui issue-table">
  <thead>
      <tr>
          <th></th>
          <th class='key'>Key</th>
          <th>Summary</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1210">AC-1210</a></td>
          <td>AC is throwing an exception on some Confluence Mobile pages</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1229">AC-1229</a></td>
          <td>OAuth authentication not working in 1.1.0-rc.1</td>
      </tr>
  </tbody>
</table>

## Testing

You can start JIRA or Confluence with Atlassian Connect as follows:

#### JIRA
<pre><code data-lang="text">atlas-run-standalone --product jira --version 6.3-OD-08-005-WN --bundled-plugins com.atlassian.plugins:atlassian-connect-plugin:1.1.0-rc.3,com.atlassian.jwt:jwt-plugin:1.1.0,com.atlassian.bundles:json-schema-validator-atlassian-bundle:1.0.4,com.atlassian.upm:atlassian-universal-plugin-manager-plugin:2.17.2,com.atlassian.webhooks:atlassian-webhooks-plugin:1.0.6 --jvmargs -Datlassian.upm.on.demand=true</code></pre>

#### Confluence
<pre><code data-lang="text">atlas-run-standalone --product confluence --version 5.5-OD-28-010 --bundled-plugins com.atlassian.plugins:atlassian-connect-plugin:1.1.0-rc.3,com.atlassian.jwt:jwt-plugin:1.1.0,com.atlassian.bundles:json-schema-validator-atlassian-bundle:1.0.4,com.atlassian.upm:atlassian-universal-plugin-manager-plugin:2.17.2,com.atlassian.webhooks:atlassian-webhooks-plugin:1.0.6 --jvmargs -Datlassian.upm.on.demand=true</code></pre>

# <a name="rc2"></a>1.1.0-rc.2

Release date: 21st July, 2014

## Issues Resolved

The following issues have been resolved since `1.1.0-rc.1`.

<table class="aui issue-table">
  <thead>
      <tr>
          <th></th>
          <th class='key'>Key</th>
          <th>Summary</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">New Feature</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1185">AC-1185</a></td>
          <td>Whitelist Confluence Questions context params for webitems and webpanels</td>
      </tr>
      <tr>
          <td><span class="aui-icon aui-icon-small aui-icon-warning">Bug</span></td>
          <td><a href="https://ecosystem.atlassian.net/browse/AC-1224">AC-1224</a></td>
          <td>Redirecting from &#x2F;plugins&#x2F;servlet&#x2F;atlassian-connect&#x2F;{addonKey}&#x2F;{moduleKey} to &#x2F;plugins&#x2F;servlet&#x2F;ac&#x2F;{addonKey}&#x2F;{moduleKey} removes all query parameters</td>
      </tr>
  </tbody>
</table>

# <a name="rc2"></a>1.1.0-rc.1

## Issues Resolved

The following issues have been resolved since `1.1.0-beta.5`.

<table class="aui issue-table">
      <thead>
          <tr>
              <th></th>
              <th class="key">Key</th>
              <th>Summary</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-warning">Removed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1209">AC-1209</a></td>
              <td>JavaScript API: removed deprecated function AP.fireEvent()</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-warning">New Feature</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1200">AC-1200</a></td>
              <td>New feature: condition for checking dark features</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1201">AC-1201</a></td>
              <td>Web-sections which rely on add-on-provided web-items fail to register</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1208">AC-1208</a></td>
              <td>Valid module keys are no longer modified</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1202">AC-1202</a></td>
              <td>Docs: Fix broken links to webhooks module page</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1207">AC-1207</a></td>
              <td>Docs: web panels are not to be used for dialog content</td>
          </tr>
      </tbody>
    </table>

# 1.1.0-beta.5

Release date: 4th July, 2014

<div class="aui-message warning">
    <span class="aui-icon icon-warning"></span>
    Beta releases are for developer testing and pre-releases only. This release will not be deployed to production, and
    will be updated with subsequent releases. We appreciate any early testing - please
    [tell us about any bugs](http://ecosystem.atlassian.com/browse/AC)!
    <p></p>
    Please read about [breaking changes](#breaking-changes).
</div>

<div class="aui-message info">
    <span class="aui-icon icon-info"></span>
    XML add-ons will be <em>removed</em> from the Atlassian Connect distribution with the release
    of Connect 1.1.0 final.
</div>

## Overview

* __If you read one thing, read about [breaking changes](#breaking-changes)__
* XML descriptor servlet paths redirect to new JSON descriptor paths
* Manage cookies through the [javascript cookie api](../javascript/module-cookie.html)
* Manage browser history through the [javascript history api](../javascript/module-history.html)
* Improve modal dialog, to introduce the chrome flag
* Dialog height is now always the height of the iframe
* Refresh a JIRA issue without reloading the page
* Fixed bug that allowed content to appear in wrong iframe
* Big speed improvements on addon install, enable, disable, uninstall etc.
* Additional REST paths added to scopes and whitelists
* Add-on keys and add-on module keys have stricter restrictions
* Fixed numerous workflow post function bugs
* Improved documentation for workflow post functions
* Remote web panels fixed in JIRA Agile

## Dialog chrome flag
Both web-items and dialogs opened from javascript can now be with or without the buttons and header (chrome).
This solves the difficult task of styling a dialog opened from javascript to look like other dialogs
and enables chrome-less dialogs to be opened from web-items.

#### Opening a dialog with chrome using javascript
For additional options such as header and button text, please refer to [the dialog options documentation](../javascript/DialogOptions.html)

```
AP.require(['dialog'], function(dialog){
    dialog.create({
        key: 'my-dialog-page', // the module key defined in your atlassian-connect.json descriptor file
        chrome: true        // a new config flag specifying that the header and buttons should be added
    });
})
```

#### Opening a dialog without chrome using a webitem
Adding the following to your atlassian-connect.json descriptor will create a webitem that opens a chromeless dialog.
Previously, all dialogs would open with the header and buttons displayed.

```
{
    "webItems": [
        {
            "key": "my-dialog-page", 
            "url": "/dialog.html",
            "location": "system.top.navigation.bar",
            "context": "addon",
            "weight": 200,
            "target": {
                "type": "dialog",
                "options": {
                    "width": "200px",
                    "height": "200px",
                    "chrome": false
                }
            },
            "name": {
                "value": "Greetings"
            }
        }
    ]
}
```

### Updating your existing dialogs to the correct height

Please see below under breaking changes.


### Refreshing a Jira issue without reloading page
The following will trigger a refresh of the Jira issue details without reloading the page.

```
AP.require(["jira/event"], function(jiraEvent) {
    jiraEvent.refreshIssuePage();
}
```

## <a name="breaking-changes"></a>Breaking Changes

### Custom macro editor titles

Prior to Connect 1.1, custom titles for the macro editor (specified using `editTitle` and `insertTitle`) were rendered
as "Insert 'insertTitle' macro" and "Edit 'editTitle' Macro". Now they are rendered exactly as you specified them in the
descriptor.

This breaking change was made due to overwhelming demand from our vendor community, and we think it's the right thing to do.

### Add-on and module key restrictions

Add-on keys must now conform to the following restrictions:

* Max length of 80 characters
* Validate against the following regular expression: `^[a-zA-Z0-9-._]+$`

Add-on module keys must now conform to the following restriction:

* Validate against the following regular expression: `^[a-zA-Z0-9-]+$`

The Atlassian Connect team has verified that all existing add-ons that we know about pass this validation rule.

### Dialog height changes

If you specify a height for a dialog with chrome (header and buttons), you will need to subtract 107px from the given value.
Specifying a height is now deemed as the height of the iframe, not the height of the dialog. The following dialogs will
need to be updated:

* Custom Confluence macro editors
* Web-items with a target of "dialog"

This was done to introduce consistency and allow add-ons to easily reuse content between different types of dialogs.


## Issues Resolved

The following issues have been resolved since `1.0.2`.

<table class="aui issue-table">
      <thead>
          <tr>
              <th></th>
              <th class="key">Key</th>
              <th>Summary</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-warning">Improvement</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1095">AC-1095</a></td>
              <td>Disallow empty strings for key attribute values</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1058">AC-1058</a></td>
              <td>Add JIRA Auditing REST resource to whitelist</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1134">AC-1134</a></td>
              <td>Extra line on workflow PostFunctions</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1074">AC-1074</a></td>
              <td>Add /secure/projectavatar to READ scope in JIRA</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1023">AC-1023</a></td>
              <td>Add-ons with invalid descriptors can not be upgraded after OnDemand server is upgraded to Atlassian Connect 1.0</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1121">AC-1121</a></td>
              <td>Document context parameters for jira workflows</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1138">AC-1138</a></td>
              <td>improve workflow post function docs</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1027">AC-1027</a></td>
              <td>Connect iframe spinner can appear on top of other elements</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1045">AC-1045</a></td>
              <td>Macro editor insert/edit title not shown properly in dialog</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-warning">New Feature</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1073">AC-1073</a></td>
              <td>Unification of dialog functionality</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1164">AC-1164</a></td>
              <td>'Dialog API' link is broken</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1141">AC-1141</a></td>
              <td>No bean named 'beanBuilderFactory' is defined - related to postFunctions?</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-988">AC-988</a></td>
              <td>Redirect from /plugins/servlet/atlassian-connect/{addonKey}/{moduleKey} to /plugins/servlet/ac/{addonKey}/{moduleKey}</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-900">AC-900</a></td>
              <td>As an Add-on developer, I want to be able to set cookies for handing user preferences, without user having to allow for third-party cookies.</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-850">AC-850</a></td>
              <td>Addons should be able to manipulate the URL via history or hashfragment</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-766">AC-766</a></td>
              <td>Ability to trigger host-level events from a remote web panel via XDM bridge</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-983">AC-983</a></td>
              <td>jwt verification fails with remote condition request</td>
          </tr>
          <tr>
              <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-765">AC-765</a></td>
              <td>Remote web panel does not display in JIRA Agile</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-980">AC-980</a></td>
              <td>Add issueLink rest paths to scopes</td>
          </tr>
          <tr>
              <td></td>
              <td><a href="https://ecosystem.atlassian.net/browse/AC-1012">AC-1012</a></td>
              <td>Provide some http-code-specific UPM error messages</td>
          </tr>
      </tbody>
    </table>
