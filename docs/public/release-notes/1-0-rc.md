# 1.0.0-rc1

Release date: 18th February, 2014

* Fixed connect plugin and connect addon lifecycles
* Installing an add-on into OnDemand will not work unless the base url starts with https
* Support for context parameters on remote conditions
* Only add-ons with a [`baseUrl`](../modules#baseUrl) starting with ``https://`` can be installed in OnDemand servers. ``http://`` may still be used for testing locally.
* We reviewed the scopes white-list for usability and security.
  * Added to JIRA:
    * `PROJECT_ADMIN`:
      * REST endpoints `api/{version}/screens`.
      * JSON & SOAP methods `createProjectRole`, `deleteProjectAvatar`, `deleteProjectRole`, `setNewProjectAvatar`, `setProjectAvatar`, `updateProject`, `updateProjectRole`.
    * `ADMIN`:
      * JSON & SOAP methods `createProject`, `createProjectFromObject`, `deleteProject`.

### Breaking Changes

* The add-on key must now be less than or equal to 80 characters. Any add-ons with larger keys will need to be shortened
* The [`authentication`](../modules/authentication.html) module is now required
* WebPanel url and location fields are now required
* We reviewed the scopes white-list for usability and security.
  * Removed REST endpoints: `remoteplugintest/{version}/user`, `applinks/{version}/applicationlink`, `applinks/{version}/applicationlinkInfo`, `applinks/{version}/listApplicationLinks`.
  * Confluence:
    * Removed REST endpoints: `atlassian-connect/{version}/macro`, `ui/{version}/content`.
    * Removed JSON & XML RPC methods: `addGroup`, `addUser`, `addUserToGroup`, `clearIndexQueue`, `deactivateUser`, `editUser`, `flushIndexQueue`, `isPluginEnabled`, `isPluginInstalled`, `reactivateUser`, `removeGroup`, `removeUser`, `removeUserFromGroup`, `renameUser`, `renameUsers`, `setEnableWysiwyg`, `setUserInformation`, `setUserPreferenceBoolean`, `setUserPreferenceLong`, `setUserPreferenceString`.
    * Moved JSON & XML RPC methods to `ADMIN`: `addPersonalSpace`, `addPersonalSpaceWithDefaultPermissions`, `addSpace`, `addSpaceGroup`, `addSpaceWithDefaultPermissions`, `removeSpace`, `removeSpaceGroup`, `storeSpace`.
    * Moved JSON & XML RPC methods to `SPACE_ADMIN`: `setSpaceStatus`.
  * JIRA:
    * Removed REST endpoints: `customFieldOption`.
    * Moved REST endpoints to `PROJECT_ADMIN`: `POST`, `PUT` & `DELETE` on `component`, `priority` & `version`.

### Issues resolved

<table class="aui issue-table">
    <thead>
        <tr>
            <th></th>
            <th class='key'>Key</th>
            <th>Summary</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-966">AC-966</a></td>
            <td>Add /rest/api/2/groups/picker to JIRA scopes white-list</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Warning</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-965">AC-965</a></td>
            <td>WebPanel url and location should be required fields</td>
        </tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-451">AC-451</a></td>
            <td>Remove xdm_p parameter</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-962">AC-962</a></td>
            <td>/download/attachments/ not part of the confluence READ scope</td>
        </tr>
        <tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-912">AC-912</a></td>
            <td>Validate that Connect baseurl uses https protocol in production</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-944">AC-944</a></td>
            <td>Add issueLinkType mutators to JIRA scopes</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-942">AC-942</a></td>
            <td>Macro editor dialog buttons are not functional</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-948">AC-948</a></td>
            <td>license parameter (lic) not passed to jiraSearchRequestViews requests</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-868">AC-868</a></td>
            <td>user_key not provided in remote-search-request-view request, fails OAUTH</td>
        </tr>
        <tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-934">AC-934</a></td>
            <td>Failing to specify a scope should not result in "Error contacting remote application host" error message during plugin installation</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-817">AC-817</a></td>
            <td>Add additional parameters to remote conditions</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-956">AC-956</a></td>
            <td>json descriptor admin pages do not auto-resize</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-success">Fixed</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-904">AC-904</a></td>
            <td>Webitem urls are missing standard context variables</td>
        </tr>
        <tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-905">AC-905</a></td>
            <td>New Confluence REST api should be accessible to Connect add-ons</td>
        </tr>
        <tr>
            <td><span class="aui-icon aui-icon-small aui-icon-warning">Warning</span></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-937">AC-937</a></td>
            <td>Make "authentication" module required</td>
        </tr>
        <tr>
            <td></td>
            <td><a href="https://ecosystem.atlassian.net/browse/AC-853">AC-853</a></td>
            <td>Add Variable Substitution for Absolute URLs</td>
        </tr>
    </tbody>
</table>

### Deployment Timetable

### Testing

You can start JIRA or Confluence with Atlassian Connect as follows:

#### JIRA
<pre><code data-lang="text">atlas-run-standalone --product jira --version 6.2-OD-08-034 --bundled-plugins com.atlassian.plugins:atlassian-connect-plugin:1.0.0-rc1,com.atlassian.jwt:jwt-plugin:1.0-m8,com.atlassian.bundles:json-schema-validator-atlassian-bundle:1.0-m0,com.atlassian.upm:atlassian-universal-plugin-manager-plugin:2.15 --jvmargs -Datlassian.upm.on.demand=true</code></pre>

#### Confluence
<pre><code data-lang="text">atlas-run-standalone --product confluence --version 5.4-OD-5 --bundled-plugins com.atlassian.plugins:atlassian-connect-plugin:1.0.0-rc1,com.atlassian.jwt:jwt-plugin:1.0-m8,com.atlassian.bundles:json-schema-validator-atlassian-bundle:1.0-m0,com.atlassian.upm:atlassian-universal-plugin-manager-plugin:2.15 --jvmargs -Datlassian.upm.on.demand=true</code></pre>
