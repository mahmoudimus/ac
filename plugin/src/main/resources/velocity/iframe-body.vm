<div class="ap-container" id="ap-$namespace">
  $!extraMarkupHtml
  <div class="ap-content" id="embedded-$namespace"></div>
  <div class="ap-stats hidden">
    <div class="ap-loading ap-status">
      <small>Loading plugin <a href="${plugin.displayUrl}" class="ap-doc-url" target="_blank">$plugin.name</a>.</small>
    </div>
    <div class="ap-loaded ap-status hidden">
      <small>Loaded plugin <a href="${plugin.displayUrl}" class="ap-doc-url" target="_blank">$plugin.name</a>.</small>
    </div>
    <div class="ap-load-timeout ap-status hidden">
      <small>Plugin <a href="${plugin.displayUrl}" class="ap-doc-url" target="_blank">$plugin.name</a> is not responding.
      Wait or <a href="#" class="ap-btn-cancel">cancel</a>?</small>
    </div>
    <div class="ap-load-error ap-status hidden">
      <small>Plugin <a href="${plugin.displayUrl}" class="ap-doc-url" target="_blank">$plugin.name</a> failed to load.</small>
    </div>
  </div>
  <script>
  _AP.require("host/main", function(create) {
      create({
          ns:"$namespace",key:"$plugin.key",cp:"$contextPath",uid:"$userId",ukey:"$userKey",dlg:"$!dialog",w:"$!width",h:"$!height",src:"$iframeSrcHtml",data:{
              #foreach($e in $data.entrySet())
                  "${e.key}":"${e.value}"#if(!${foreach.isLast()}),#end
              #end
          }
      })
  });
  </script>
</div>
